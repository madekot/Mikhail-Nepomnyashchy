(this["webpackJsonpmovies-progect"]=this["webpackJsonpmovies-progect"]||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(8),r=n.n(s),i=(n(15),n(2)),o=n(3),h=n(6),l=n(5),j=n(4),d=n(0);function u(){return Object(d.jsx)("nav",{className:"green darken-1",children:Object(d.jsxs)("div",{className:"nav-wrapper",children:[Object(d.jsx)("a",{href:"#!",className:"brand-logo",children:"Films"}),Object(d.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"sass.html",children:"Sass"})})})]})})}function p(){return Object(d.jsxs)("footer",{className:"page-footer green lighten-4",children:[Object(d.jsx)("div",{className:"container"}),Object(d.jsx)("div",{className:"footer-copyright",children:Object(d.jsxs)("div",{className:"container",children:["\xa9 ",(new Date).getFullYear()," Copyright Text",Object(d.jsx)("a",{className:"grey-text text-lighten-4 right",href:"#!",children:"Repo"})]})})]})}var g=n(9),b=n(10);function f(e){var t=e.title,n=e.poster,a=e.category,c=e.year;return Object(d.jsxs)("div",{className:"movie card",children:[Object(d.jsx)("div",{className:"card-image waves-effect waves-block waves-light",children:Object(d.jsx)("img",{className:"activator",src:n,alt:""})}),Object(d.jsxs)("div",{className:"card-content",children:[Object(d.jsx)("span",{className:"card-title activator grey-text text-darken-4",children:t}),Object(d.jsxs)("p",{style:{display:"flex",justifyContent:"space-between"},children:[Object(d.jsx)("span",{children:a}),Object(d.jsx)("span",{children:c})]})]})]})}var m=["id"];function v(e){var t=e.films.map((function(e){var t=e.id,n=Object(b.a)(e,m);return Object(d.jsx)(f,Object(g.a)({},n),t)}));return Object(d.jsx)("div",{className:"movies",children:t})}var O=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={checkedType:"all"},e.style={display:"flex",justifyContent:"space-between"},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.onChangeType(this.state.checkedType)}},{key:"render",value:function(){var e=this,t=this.style;return Object(d.jsxs)("form",{action:"#",style:t,children:[Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{className:"with-gap",name:"group1",type:"radio","data-name":"all",checked:"all"===this.state.checkedType,onChange:function(t){var n=t.target.dataset.name;e.setState({checkedType:n}),e.props.onChangeType(n)}}),Object(d.jsx)("span",{children:"All"})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{className:"with-gap",name:"group1",type:"radio","data-name":"films",checked:"films"===this.state.checkedType,onChange:function(t){var n=t.target.dataset.name;e.setState({checkedType:n}),e.props.onChangeType(n)}}),Object(d.jsx)("span",{children:"Films"})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{className:"with-gap",name:"group1",type:"radio","data-name":"serials",checked:"serials"===this.state.checkedType,onChange:function(t){var n=t.target.dataset.name;e.setState({checkedType:n}),e.props.onChangeType(n)}}),Object(d.jsx)("span",{children:"Serials"})]})]})}}]),n}(a.Component),y=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={search:""},e.handleKey=function(t){"Enter"===t.key&&e.props.onChangeSearch(e.state.search)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setState({search:this.props.search})}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"input-field",children:[Object(d.jsx)("input",{className:"validate",value:this.state.search,type:"search",placeholder:"search",onChange:function(t){return e.setState({search:t.target.value})},onKeyDown:function(t){return e.handleKey(t)}}),Object(d.jsx)("button",{className:"btn search-btn",onClick:function(){return e.props.onChangeSearch(e.state.search)},children:"Search"})]})}}]),n}(a.Component),x=function(){return Object(d.jsx)("div",{className:"progress",children:Object(d.jsx)("div",{className:"indeterminate"})})};function C(e){var t=e.films,n=e.search,a=e.loading,c=e.onChangeSearch,s=e.onChangeType,r=a?Object(d.jsx)(x,{}):Object(d.jsx)(v,{films:t});return Object(d.jsxs)("main",{className:"container content",children:[Object(d.jsx)(y,{search:n,onChangeSearch:c}),Object(d.jsx)(O,{onChangeType:s}),t.length?r:Object(d.jsx)("h4",{children:"Nothing found"})]})}var S=function e(){var t=this;Object(i.a)(this,e),this.beginningUrl="https://www.omdbapi.com/?apikey=2dc59f56&s=",this.transformData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{title:e.Title,poster:e.Poster,category:e.Type,year:e.Year,id:e.imdbID}}))},this.getMovies=function(e){return fetch("".concat(t.beginningUrl).concat(e,"&type=movie")).then((function(e){return e.json()})).then((function(e){var n=e.Search;return t.transformData(n)}))},this.getSerials=function(e){return fetch("".concat(t.beginningUrl).concat(e,"&type=series")).then((function(e){return e.json()})).then((function(e){var n=e.Search;return t.transformData(n)}))},this.getAllVideo=function(e){return fetch("".concat(t.beginningUrl).concat(e)).then((function(e){return e.json()})).then((function(e){var n=e.Search;return t.transformData(n)}))}},k=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).services=new S,e.state={films:[],search:"matrix",type:"",loading:!0},e.getFactoryRequest=function(t,n){var a=e.services,c=a.getAllVideo,s=a.getMovies,r=a.getSerials;return"films"===t?s(n):"serials"===t?r(n):c(n)},e.onChangeSearch=function(t){var n=Object(h.a)(e).getFactoryRequest,a=e.state.type;e.setState({loading:!0}),n(a,t).then((function(n){e.setState({search:t,films:n,loading:!1})}))},e.onChangeType=function(t){var n=Object(h.a)(e).getFactoryRequest,a=e.state.search;e.setState({loading:!0}),n(t,a).then((function(n){e.setState({search:a,films:n,loading:!1,type:t})}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.services.getAllVideo(this.state.search).then((function(t){return e.setState({films:t})}))}},{key:"render",value:function(){var e=this.onChangeSearch,t=this.onChangeType,n=this.state,a=n.films,c=n.search,s=n.loading;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u,{}),Object(d.jsx)(C,{search:c,films:a,loading:s,onChangeSearch:e,onChangeType:t}),Object(d.jsx)(p,{})]})}}]),n}(a.Component),N=k;r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.b1e09363.chunk.js.map